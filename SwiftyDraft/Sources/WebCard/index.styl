@import './colors'

$webcard-max-width = 555px
$webcard-max-height = 130px
$webcard-image-margin-right = 10px
$webcard-border-width = 1px
$webcard-background-color = rgba(255, 255, 255, 1)
$webcard-border-radius = 5px
$webcard-base-container
  width: auto
  height: $webcard-max-height
  max-width: $webcard-max-width
  border: $webcard-border-width solid #eee
  border-radius: $webcard-border-radius
  display: block
  overflow: hidden
  background-color: $white-color

web-card:empty // @stylint off
  display: none

.webcard
  @extend $webcard-base-container
  text-decoration: none
  text-overflow: ellipsis
  max-height: $webcard-max-height
  position: relative
  z-index: 1
  height: auto
  box-shadow: 0 1px 3px rgba(1, 1, 1, .1)
  p
    margin: 0
  .image
    margin-right: $webcard-image-margin-right
    width: $webcard-max-height - ($webcard-border-width * 2)
    min-height: $webcard-max-height - ($webcard-border-width * 2)
    height: 100%
    background-position: center center
    background-size: auto 100%
    background-repeat: no-repeat
    float: left
    position: relative
    z-index: 1
    &:hover
      .remove, .overlay
        display: block
    .remove
      display: none
      position: absolute
      z-index: 2
      top: 5px
      right: 5px
      cursor: pointer
      line-height: 1
      .icon
        max-width: 8px
        max-height: 8px
        margin: 0
        vertical-align: top
    .overlay
      display: none
      position: absolute
      z-index: 1
      width: 100%
      height: 100%
      top: 0
      left: 0
      background-color: rgba(0, 0, 0, .5)
    & + .text .url
      padding-left: $webcard-max-height + $webcard-image-margin-right
  .text
    padding: 10px 25px 10px 10px
    word-break: break-word
    min-height: 80px
    position: relative;
  .title
    line-height: 1.2
    font-weight: bold
    font-size: 1.1em
    margin-bottom: 5px
  .description
    color: rgba(0, 0, 0, .6)
    font-size: 0.95em
    line-height: 1.38
    min-height: 80px
  .url
    font-size: 0.95em
    z-index: 10
    left: 0
    color: rgba(0, 0, 0, .2)
    overflow: hidden
    text-overflow: ellipsis
    white-space: nowrap
    position: absolute
    padding-right: 1em
    right: 0
    bottom: 0
    width: 100%
    background-color: $webcard-background-color
    padding-left: $webcard-image-margin-right
    height: 35px
    // box-shadow: 0 -10px 15px 5px $webcard-background-color
    vertical-align: top
    line-height: 1
    padding-top: 5px
  / a&
      &::before
        content: ""
        position: absolute
        top: 15px
        right: 15px
        width: 16px
        height: 16px
        opacity: .1
        background-image: url('./icon-blank.svg')
        background-repeat: no-repeat
        background-position: center
        background-size: 100% auto
        z-index: 1
      &:hover
        box-shadow: 0 2px 5px rgba(1, 1, 1, .15)
        color: $blue-color !important
        &::before
          opacity: .2
  &:focus, &:hover
    text-decoration: none
.webcard-loading-spinner
  @extend $webcard-base-container
  text-align: center
  padding-top: 50px
  color: #aaa
.webcard-errors
  @extend $webcard-base-container
.webcard-editable
  max-width: $webcard-max-width
  position: relative
  z-index: 1
  .webcard-delete
    text-align: center
    position: absolute
    width: 20px
    height: 20px
    top: -(@width / 2)
    right: -(@width / 2)
    padding-top: 6px
    background-color: $black-color
    border-radius: 50%
    color: $white-color
    cursor: pointer
    z-index: 2
    &:hover
      opacity: .7
    .icon
      max-width: 8px
      max-height: 8px
      margin: 0
      vertical-align: top
